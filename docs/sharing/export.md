# Exporting / Publishing Workflows

_New in v2.5.0!_

Exporting workflows allows you to package a set of Operation Types, Protocols, Libraries, Sample Type
definitions and Container definitions in to an object that can be shared and imported by someone else.
Aquarium supports two ways to share a workflow.
One is by generating a simple workflow (.aq) file that you can share however you want to.
Or you can generate an entire Github repository and webpage for your workflow,
allowing users to read the workflow documentation before importing it, and to, for example, post issues and questions about the workflow.

## Github Parameters or Direct Export

To export a workflow, first go to **Export Workflows** available in the drop down menu at the top left in the Aquarium tool bar.
Next, choose the operation types and libraries to include in the workflow in the expandable list in the left sidebar.
If you would simply like to generate na .aq file, type a name for the file and click **EXPORT** under Step 1 Alternative.
Otherwise, fill in the Github information under Step 1. The meaning of the fields is as follows:

- **User Name:** Your Github user name.
- **Repository Name:** The name of the Github repository that you would like to create for your new workflow. Alternatively, you can
  update an existing repository that was previously generated by Aquarium.
- **Organization (Optional):** If you would like to publish your workflow under an organization instead of your user name, type the name of a Github
  organization of which you are a member. You must have permission to make new public repositories in this organization.
- **Access Token:** To create an access token for Aquarium, go to your Github account, choose Settings, click **Developer Settings**,
  click **Personal Access Tokens**, and click **Generate new token**. Then describe the token and be sure to click the **repo**
  scope so that Aquarium can manipulate your workflow repositories.

## Workflow Information

Describe your workflow with a title, description, version number, and copyright holder.
Note that your title will appear on the main Aquarium software page (if you tell us about your workflow), so should be fairly specific.
For example, call your workflow "Franklin Lab Crystallography" instead of just "Crystallography", since there may ultimately end up
being many Crystallography workflows available. Also list who is maintaining the workflow, who the authors are, and anyone you would like to acknowledge.
Funding sources could be good to acknowledge in addition to people.

## Review Workflow Information

Click **REVIEW** and check that all the information about your workflow is correct.
Click **GO BACK** if you would like to change something. Select or deselect components in the left sidebar to make sure you are including exactly what you want.

## Publish

Click **PUBLISH** to complete the process. Aquarium will create a new Github repository for you, compile all the documentation, and push it to the repository.
Once Aquarium is finished, it will show you a link to your repository, which will look something like the following:

```
your-workflow
|-- ABOUT.md
|-- LICENSE.md
|-- README.md
|-- config.json
|-- index.html
|-- js
|   `-- definitions.js
|-- libraries
|   |-- Lib_1.html
|   |-- Lib_1.rb
|   |   ...
|   |-- Lib_k.html
|   `-- Lib_k.rb
|-- object_types
|   |-- ObjectType_1.md
|   |   ...
|   `-- ObjectType_k.md
|-- operation_types
|   |-- OperationType_1.md
|   |   ...
|   `-- OperationType_k.md
|-- sample_types
|   |-- SampleType_1.md
|   |   ...
|   `-- SampleType_k.md
`-- your-workflow.aq
```

Note that if you update your workflow by going through the above steps with an existing, Aquarium generated repository,
then Aquarium will regenerate all of these files except README.md and LICENSE.md.
Thus, changes you make to those two files in Github will be preserved.

You should now edit the README.md to describe how to use your workflow.
Typically, this document will give an overview of what the workflow does and describe common ways the operation types can be strung together into plans.
Workflows that consist of libraries only should describe the intent of the library in the README.md.

You should also edit LICENSE.md to customize the license to suit your needs.
Note that you are under absolutely no obligation from the makers of Aquarium to license your code in any particular way.
Please check with your university or company for any requirements they may have.

## Set up Github Pages

Go to your repository and choose Settings and then choose Github Pages &gt; Source &gt; master branch.
Do not choose a theme, as Aquarium does not require one (it does not use jekyll).
Then click Save. Wait a little while and eventually the link to your newly published Aquarium workflow will go live.
Note that Github takes its own time when publishing to Github pages. Usually it will do so after a commit and push, but not always.

Get a DOI
---
You can get a DOI for your workflow by integrating (Zenodo)[https://zenodo.org/].
Read the documentation about Github integration before you tag your first release so Zenodo can pick it up.

Tell Us About Your Workflow
---

Email Eric Klavins <klavins@uw.edu> with a link to the Github repository containing your workflow.
He'll add it to the Community &gt; Workflows page of the Aquarium website!
